<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <style type="text/css">
      .pAll {
        font-family: "黑体";
        margin: 50px auto;
      }
      #titles {
        font-weight: bold;
        font-size: 18px;
        height: 50px;
        line-height: 50px;
        background: #fff9f3;
        text-align: center;
        border: 1px solid #ccc;
      }
      #contents {
        margin-top: 20px;
        background: #fff9f3;
        border: 1px solid #ccc;
      }
      #form-itemGroup {
        padding: 10px;
      }
      #form-itemGroup label {
        display: inline-block;
        width: 100px;
        height: 32px;
        line-height: 32px;
        color: #666;
        text-align: right;
      }
      #form-itemGroup .userName {
        width: 200px;
        height: 40px;
        line-height: 40px;
        border: 1px solid #ccc;
      }
      #form-itemGroup .default {
        width: 200px;
        height: 32px;
        line-height: 32px;
        color: #999;
      }
      #form-itemGroup .error {
        height: 32px;
        line-height: 32px;
        color: #f00;
      }
      #form-itemGroup input.error {
        outline-color: #f00;
        border-color: #f00;
      }
      #form-itemGroup .success {
        height: 32px;
        line-height: 32px;
        color: #096;
      }
      #form-itemGroup input.success {
        outline-color: #096;
        border-color: #096;
      }
      .pBtn {
        margin-top: 20px;
        margin-left: 200px;
        width: 100px;
        height: 32px;
        line-height: 32px;
        background-color: #f93;
        margin-bottom: 10px;
        color: #ffffff;
        font-weight: bold;
        border: none;
      }
      form {
        margin-left: 500px;
      }
    </style>
  </head>
  <body>
    <div class="pAll">
      <div id="titles">新用户注册</div>
      <div id="contents">
        <form action="#" onSubmit="">
          <p id="form-itemGroup">
            <label for="userName">用户名：</label>
            <input type="text" id="userName" class="userName" />
            <span class="default" id="nameErr">请输入真实姓名</span>
          </p>
          <p id="form-itemGroup">
            <label for="userPasword">密码：</label>
            <input type="password" id="userPasword" class="userName" />
            <span class="default" id="passwordErr"
              >6到20个字符，至少包含一位数字，一个大写字母，一个小写字母和一个特殊符号（@＃$％）</span
            >
          </p>
          <p id="form-itemGroup">
            <label for="userConfirmPasword">确认密码：</label>
            <input type="password" id="userConfirmPasword" class="userName" />
            <span class="default" id="conPasswordErr"
              >请再输入一遍密码, 必须和原密码保持一致</span
            >
          </p>
          <p id="form-itemGroup">
            <label for="userPhone">手机号码：</label>
            <input type="text" id="userPhone" class="userName" />
            <span class="default" id="phoneErr">请输入11位手机号码</span>
          </p>
          <p>
            <button type="submit" class="pBtn">注册</button>
          </p>
        </form>
      </div>
    </div>
    <script>
      var cname = /^(?:[\u4e00-\u9fa5·]{2,16})$/;
      var cpass =
        /^\S*(?=\S{6,20})(?=\S*\d)(?=\S*[A-Z])(?=\S*[a-z])(?=\S*[!@#$%^&*? ])\S*$/;
      var cnum =
        /^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1589]))\d{8}$/;
      var userName = document.querySelector("#userName");
      var nameErr = document.querySelector("#nameErr");
      var userPasword = document.querySelector("#userPasword");
      var passwordErr = document.querySelector("#passwordErr");
      var userConfirmPasword = document.querySelector("#userConfirmPasword");
      var conPasswordErr = document.querySelector("#conPasswordErr");
      var userPhone = document.querySelector("#userPhone");
      var phoneErr = document.querySelector("#phoneErr");
	  var button=document.querySelector("button")
      userName.onblur = function () {
        userName.className = "error";
        nameErr.className = "error";
        if (userName.value.trim() == "") {
          nameErr.innerHTML = "此项必填";
        } else if (!cname.test(userName.value.trim())) {
          nameErr.innerHTML = "姓名格式不正确";
        } else {
          userName.className = "success";
          nameErr.className = "success";
          nameErr.innerHTML = "姓名格式正确";
        }
      };
      userPasword.onblur = function () {
        userPasword.className = "error";
        passwordErr.className = "error";
        if (userPasword.value.trim() == "") {
          passwordErr.innerHTML = "此项必填";
        } else if (!cpass.test(userPasword.value.trim())) {
          passwordErr.innerHTML = "密码格式不正确：6到20个字符，至少包含一位数字，一个大写字母，一个小写字母和一个特殊符号（@＃$％）";
        } else {
          userPasword.className = "success";
          passwordErr.className = "success";
          passwordErr.innerHTML = "密码格式正确";
        }
      };
      userConfirmPasword.onblur = function () {
        userConfirmPasword.className = "error";
        conPasswordErr.className = "error";
        if (userConfirmPasword.value.trim() == "") {
          conPasswordErr.innerHTML = "此项必填";
        } else if (
          userConfirmPasword.value.trim() != userPasword.value.trim()
        ) {
          conPasswordErr.innerHTML = "前后密码不一致";
        } else {
          userConfirmPasword.className = "success";
          conPasswordErr.className = "success";
          conPasswordErr.innerHTML = "前后密码一致";
        }
      };
      userPhone.onblur = function () {
        userPhone.className = "error";
        phoneErr.className = "error";
        if (userPhone.value.trim() == "") {
          phoneErr.innerHTML = "此项必填";
        } else if (!cnum.test(userPhone.value.trim())) {
          phoneErr.innerHTML = "手机号格式不正确";
        } else {
          userPhone.className = "success";
          phoneErr.className = "success";
          phoneErr.innerHTML = "手机号格式正确";
        }
      };
	  button.onclick=function(){
		userName.onblur()
		userPasword.onblur()
		userConfirmPasword.onblur()
		userPhone.onblur()
		if (userName.className=="success"&&userPasword.className=="success"&&userConfirmPasword.className=="success"&&userPhone.className=="success") {
			alert("注册成功")
		}
	  }
    </script>
  </body>
</html>
