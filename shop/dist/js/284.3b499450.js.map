{"version":3,"file":"js/284.3b499450.js","mappings":"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","sources":["webpack://shop/./src/components/ShopInfo.vue","webpack://shop/./src/components/ShopInfo.vue?3071","webpack://shop/./src/views/shop/Shop.vue","webpack://shop/./src/views/shop/Shop.vue?d874"],"sourcesContent":["<template>\r\n  <div class=\"nearby-item\">\r\n    <div class=\"left\">\r\n      <img :src=\"item.logo\" alt=\"\" class=\"shop-logo\" />\r\n    </div>\r\n    <div :class=\"{right:true,line:showBorder}\">\r\n      <div class=\"shop-title\">{{ item.title }}</div>\r\n      <div class=\"tags\">\r\n        <span\r\n          v-for=\"(tag, tagIndex) of item.tags\"\r\n          :key=\"tagIndex\"\r\n          class=\"tag-item\"\r\n          >{{ tag }}</span\r\n        >\r\n      </div>\r\n      <div class=\"promotion\">{{ item.promotion }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  // 组件名\r\n  name: \"ShopInfo\",\r\n  // 接收父组件传递过来的数据\r\n  props: {\r\n    item: {\r\n      type: Object, // 数据类型\r\n    },\r\n    showBorder:{\r\n        type:Boolean,\r\n        default:true\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.nearby-item {\r\n  text-align: left;\r\n  height: 22.9333vw;\r\n  margin-bottom: 3.2vw;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n  display: flex;\r\n  .left {\r\n    .shop-logo {\r\n      width: 14.9333vw;\r\n      margin-right: 4.2667vw;\r\n      margin-top: 1.3333vw;\r\n    }\r\n  }\r\n  .right {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-evenly;\r\n    &.line {\r\n      border-bottom: 0.2667vw solid #f1f1f1;\r\n    }\r\n    .shop-title {\r\n      font-family: PingFangSC-Regular;\r\n      font-size: 4.2667vw;\r\n      color: #333333;\r\n    }\r\n    .tags {\r\n      display: flex;\r\n      .tag-item {\r\n        font-family: PingFangSC-Regular;\r\n        font-size: 3.4667vw;\r\n        color: #333333;\r\n        margin-right: 4.2667vw;\r\n      }\r\n    }\r\n    .promotion {\r\n      font-family: PingFangSC-Regular;\r\n      font-size: 3.4667vw;\r\n      color: #e93b3b;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ShopInfo.vue?vue&type=template&id=0ac5544a&scoped=true\"\nimport script from \"./ShopInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ShopInfo.vue?vue&type=script&lang=js\"\n\nimport \"./ShopInfo.vue?vue&type=style&index=0&id=0ac5544a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ac5544a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"shop\">\r\n    <div class=\"head\">\r\n      <router-link :to=\"{ path: `/` }\"\r\n        ><span class=\"iconfont icon-left\"></span\r\n      ></router-link>\r\n      <span class=\"iconfont icon-search\"></span>\r\n      <input\r\n        type=\"text\"\r\n        class=\"search-input\"\r\n        placeholder=\"请输入商品名称搜索\"\r\n      />\r\n    </div>\r\n    <ShopInfo class=\"shop-info\" :item=\"item\" :showBorder=\"false\" />\r\n    <div class=\"shop-body\">\r\n      <div class=\"category\">\r\n        <div\r\n          @click=\"handleItemClick(item.name)\"\r\n          v-for=\"item of leftItems\"\r\n          :tab-name=\"item.name\"\r\n          :key=\"item.id\"\r\n          :class=\"{\r\n            'category-item': true,\r\n            active: item.name === currentItemName,\r\n          }\"\r\n        >\r\n          {{ item.text }}\r\n        </div>\r\n      </div>\r\n      <div class=\"detail\">\r\n        <div v-for=\"item of rightItems\" :key=\"item.id\" class=\"detail-item\">\r\n          <div class=\"left\">\r\n            <img :src=\"item.img\" alt=\"\" class=\"product-img\" />\r\n          </div>\r\n          <div class=\"right\">\r\n            <div class=\"product-title\">{{ item.title }}</div>\r\n            <div class=\"product-sale\">月售{{ item.sale }}件</div>\r\n            <div class=\"product-data\">\r\n              <div class=\"data-left\">\r\n                <span class=\"current-price\">{{ item.currentPrice }}</span>\r\n                <span class=\"previous-price\">¥{{ item.previousePrice }}</span>\r\n              </div>\r\n              <div class=\"data-right\">\r\n                <span\r\n                  @click=\"changeCartCount(item.id, -1)\"\r\n                  v-show=\"item.cartCount\"\r\n                  class=\"iconfont icon-minus-circle\"\r\n                ></span>\r\n                <span v-show=\"item.cartCount\" class=\"product-count\">{{\r\n                  item.cartCount\r\n                }}</span>\r\n                <span\r\n                  @click=\"changeCartCount(item.id, 1)\"\r\n                  class=\"iconfont icon-plus-circle-fill\"\r\n                ></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"foot\">\r\n        <div class=\"left\">\r\n          <span class=\"dot\" v-show=\"total\">{{ total }}</span>\r\n          <img\r\n            @click=\"cartIconClick()\"\r\n            src=\"../../assets/img/cart.png\"\r\n            alt=\"\"\r\n            class=\"cart-img\"\r\n          />\r\n          <span v-show=\"JSON.stringify(cartItems) === '[]'\" class=\"left-title\"\r\n            >购物车是空的</span\r\n          >\r\n          <span v-show=\"JSON.stringify(cartItems) !== '[]'\" class=\"left-title\"\r\n            >总计：</span\r\n          >\r\n          <span v-show=\"JSON.stringify(cartItems) !== '[]'\" class=\"left-price\"\r\n            >¥{{ sumPrice }}</span\r\n          >\r\n        </div>\r\n        <div\r\n          @click=\"gotoOrder\"\r\n          v-show=\"JSON.stringify(cartItems) !== '[]'\"\r\n          class=\"right active\"\r\n        >\r\n          去结算\r\n        </div>\r\n        <div v-show=\"JSON.stringify(cartItems) === '[]'\" class=\"right\">\r\n          去结算\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-show=\"isShowCartList\" @click=\"cartMaskClick\" class=\"cart-mask\">\r\n      <div class=\"cart-info\">\r\n        <div class=\"cart-top\">\r\n          <div class=\"left\">\r\n            <span\r\n              @click=\"changeAllChecked\"\r\n              v-show=\"!allChecked\"\r\n              class=\"iconfont icon-Checkbox_unselected2\"\r\n            ></span>\r\n            <span\r\n              @click=\"changeAllChecked\"\r\n              v-show=\"allChecked\"\r\n              class=\"iconfont icon-selected\"\r\n            ></span>\r\n            <span class=\"text\">全选</span>\r\n          </div>\r\n          <div @click=\"clearCart\" class=\"button\">清空购物车</div>\r\n        </div>\r\n        <div class=\"cart-content\">\r\n          <div v-for=\"item of cartItems\" class=\"cart-item\">\r\n            <div class=\"left\">\r\n              <span\r\n                @click=\"changeItemChecked(item.id)\"\r\n                v-show=\"!item.checked\"\r\n                class=\"iconfont icon-Checkbox_unselected2\"\r\n              ></span>\r\n              <span\r\n                @click=\"changeItemChecked(item.id)\"\r\n                v-show=\"item.checked\"\r\n                class=\"iconfont icon-selected\"\r\n              ></span>\r\n              <img :src=\"item.img\" alt=\"\" class=\"cart-img\" />\r\n              <div class=\"product-info\">\r\n                <div class=\"product-title\">{{ item.title }}</div>\r\n                <div class=\"product-data\">\r\n                  <span class=\"current-price\">{{ item.currentPrice }}</span>\r\n                  <span class=\"previous-price\">¥{{ item.previousePrice }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"right\">\r\n              <span\r\n                @click=\"changeCartCount(item.id, -1)\"\r\n                class=\"iconfont icon-minus-circle\"\r\n              ></span>\r\n              <span class=\"product-count\">{{ item.cartCount }}</span>\r\n              <span\r\n                @click=\"changeCartCount(item.id, 1)\"\r\n                class=\"iconfont icon-plus-circle-fill\"\r\n              ></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useStore } from \"vuex\";\r\n// 引入ref, 创建ref对象\r\nimport { ref, onMounted, computed } from \"vue\";\r\n// 引入useRouter\r\nimport { useRouter, useRoute } from \"vue-router\";\r\n// 引入get\r\nimport { get } from \"@/utils/request\";\r\n// 导入shopInfo组件\r\nimport ShopInfo from \"@/components/ShopInfo.vue\";\r\nexport default {\r\n  name: \"Shop\",\r\n  components: {\r\n    ShopInfo,\r\n  },\r\n\r\n  setup() {\r\n    const isShowCartList = ref(false);\r\n    const store = useStore();\r\n    // 创建响应式数据\r\n    const item = ref({});\r\n    const leftItems = ref({});\r\n    const rightItems = ref({});\r\n    // 获取路由对象\r\n    const router = useRouter();\r\n    // 获取路由参数\r\n    const route = useRoute();\r\n    const shopId = route.params.id;\r\n    // 通过ajax, 获取item的数据\r\n    // 定义一个数组, 用来存储所有的商品数据\r\n    let allItems = [];\r\n    const getItemData = async () => {\r\n      const result = await get(`/shop/${shopId}`);\r\n      item.value = result.data;\r\n    };\r\n    const getLeftItems = async () => {\r\n      const result = await get(`/shop/${shopId}/tags`);\r\n      leftItems.value = result.data;\r\n    };\r\n    // 通过ajax, 获取右侧商品的数据\r\n    const getRightItems = async () => {\r\n      // 获取右侧的商品数据\r\n      const result = await get(`/shop/${shopId}/product-list`);\r\n      // 更新到响应式数据中\r\n      rightItems.value = result.data;\r\n      // 存到allItems中, 方便后面的筛选操作\r\n      allItems = result.data;\r\n      // 通过shopId, productId, 获取购物车数量\r\n      allItems.forEach((element) => {\r\n        element.cartCount = getProductFromVuex(shopId, element.id).cartCount;\r\n        element.checked = getProductFromVuex(shopId, element.id).checked;\r\n      });\r\n      // 更新rightItems中的数据\r\n      rightItems.value = allItems;\r\n    };\r\n    // 完善商品数据, 通过商铺id, 商品id, 从vuex中查询cartCount属性, 添加到商品中, 记录的购物车数量\r\n    // 参数1: 商铺id, 参数2: 商品id\r\n    const getProductFromVuex = (shopId, productId) => {\r\n      // shopId转数字, productId转数字\r\n      shopId = Number(shopId);\r\n      productId = Number(productId);\r\n      // 定义一个购物车数量, 默认为0\r\n      let cartCount;\r\n      let checked;\r\n      // 通过商铺id, 商品id, 从vuex中查询cartCount属性, 添加到商品中, 记录的购物车数量, 如果vuex中没有数据, 默认为空数组\r\n      const cartData = store.state.cartData || [];\r\n      // 先通过商铺id, 获取商铺的数据\r\n      let shop = {\r\n        products: [],\r\n      };\r\n      cartData.forEach((element) => {\r\n        if (element.id === shopId) {\r\n          shop = element;\r\n        }\r\n      });\r\n      // 通过商品id, 获取商品的数据\r\n      let product = {};\r\n      shop.products.forEach((element) => {\r\n        if (element.id === productId) {\r\n          product = element;\r\n        }\r\n      });\r\n      // 获取商品的购物车数量, 如果没有, 默认为0\r\n      cartCount = product.cartCount || 0;\r\n      checked = product.checked || false;\r\n      // 返回购物车数量\r\n      return { cartCount, checked };\r\n    };\r\n    // 修改购物车数据, 参数1: 商品id, 参数2: 购物车数量\r\n    const changeCartCount = (productId, cartNumber) => {\r\n      // 准备shop的所有信息\r\n      const shopInfo = item.value;\r\n      // 通过productId, 获取商品的信息\r\n      const products = rightItems.value;\r\n      // 这段代码用于在 products 数组中查找具有特定 productId 的对象。它使用了 find 方法，通过一个箭头函数来检查每个数组内的元素（这里是 item ）。如果元素的 id 属性与给定的 productId 相匹配，则返回该元素。如果找到匹配项， productInfo 将存储该匹配对象；否则， productInfo 将存储 undefined 。\r\n      const productInfo = products.find((item) => {\r\n        return item.id === productId;\r\n      });\r\n      // 通过mutation, 修改vuex中的数据\r\n      store.commit(\"changeCartCount\", {\r\n        shopInfo,\r\n        productInfo,\r\n        cartNumber,\r\n      });\r\n    };\r\n    const currentItemName = ref(\"all\");\r\n    const handleItemClick = (name) => {\r\n      currentItemName.value = name;\r\n      rightItems.value = allItems.filter((item) => {\r\n        return item.tags.includes(name);\r\n      });\r\n    };\r\n    onMounted(() => {\r\n      getItemData();\r\n      getLeftItems();\r\n      getRightItems();\r\n    });\r\n\r\n    const handleBackClick = () => {\r\n      // 返回上一页\r\n      router.back();\r\n    };\r\n    // 计算购物车的总数量, 计算属性\r\n    const total = computed(() => {\r\n      // 定义一个总数量\r\n      let totalNumber = 0;\r\n      // 通过shopId, productId, 获取当前商品在购物车中的数量\r\n      let rightItem = Array.from(rightItems.value);\r\n      rightItem.forEach((element) => {\r\n        totalNumber += getProductFromVuex(shopId, element.id).cartCount;\r\n      });\r\n      // 返回总数量\r\n      return totalNumber;\r\n    });\r\n    // 计算购物车的总价格, 计算属性\r\n    const sumPrice = computed(() => {\r\n      // 定义一个总价格\r\n      let sumPrice = 0;\r\n      // 通过shopId, productId, 获取当前商品在购物车中的数量\r\n      let rightItem = Array.from(rightItems.value);\r\n      rightItem.forEach((element) => {\r\n        if (element.checked) {\r\n          sumPrice +=\r\n            getProductFromVuex(shopId, element.id).cartCount *\r\n            element.currentPrice;\r\n        }\r\n      });\r\n      // 返回总价格, 保留两位小数\r\n      return sumPrice.toFixed(2);\r\n    });\r\n    // 购物车图标的点击事件处理函数\r\n    // 获取购物车数据,做成计算属性, 从rightItems中获取有购物车数量的商品数据\r\n    const cartItems = computed(() => {\r\n      // 定义一个数组, 用来存储购物车数据\r\n      const tmpArr = [];\r\n      const shopId = route.params.id;\r\n      // 从vuex中获取购物车数据\r\n      let rightItem = Array.from(rightItems.value);\r\n      rightItem.forEach((element) => {\r\n        element.cartCount = getProductFromVuex(shopId, element.id).cartCount;\r\n        element.checked = getProductFromVuex(shopId, element.id).checked;\r\n      });\r\n      // 遍历rightItems, 获取有购物车数量的商品数据\r\n      rightItem.forEach((element) => {\r\n        // 如果商品的购物车数量大于0, 就添加到tmpArr中\r\n        if (element.cartCount > 0) {\r\n          tmpArr.push(element);\r\n        }\r\n      });\r\n      if (tmpArr.length === 0) {\r\n        isShowCartList.value = false;\r\n      }\r\n      // 返回tmpArr\r\n      return tmpArr;\r\n    });\r\n    const cartIconClick = () => {\r\n      // 判断, 如果购物车数量为0, 点击无效\r\n      if (cartItems.value.length === 0) {\r\n        return;\r\n      }\r\n      // 点击购物车图标, 显示购物车列表\r\n      isShowCartList.value = !isShowCartList.value;\r\n    };\r\n    // 切换商品的选中状态, 参数1: 商品id\r\n    const changeItemChecked = (productId) => {\r\n      // 获取shop的id\r\n      const shopInfo = item.value;\r\n      const shopId = shopInfo.id;\r\n      // 通过mutation, 修改vuex中的数据, 商品的checked状态取反\r\n      store.commit(\"changeItemChecked\", {\r\n        shopId,\r\n        productId,\r\n      });\r\n    };\r\n    // 定义一个计算属性, 用于判断是否全选\r\n    const allChecked = computed(() => {\r\n      // 默认返回true\r\n      let allChecked = true;\r\n      // 遍历购物车中的所有商品, 如果有一个商品没有选中, 就返回false\r\n      cartItems.value.forEach((element) => {\r\n        if (!element.checked) {\r\n          allChecked = false;\r\n        }\r\n      });\r\n      // 返回是否全选\r\n      return allChecked;\r\n    });\r\n    // 切换全选\r\n    const changeAllChecked = () => {\r\n      // 获取shopId\r\n      const shopId = item.value.id;\r\n      // 根据allChecked的值, 确定修改的状态\r\n      const checked = !allChecked.value;\r\n      // 通过mutation, 修改vuex中的数据\r\n      store.commit(\"changeAllChecked\", {\r\n        shopId,\r\n        checked,\r\n      });\r\n    };\r\n    // 清空购物车\r\n    const clearCart = () => {\r\n      // 获取shopId\r\n      const shopId = item.value.id;\r\n      isShowCartList.value = false;\r\n      // 通过mutation, 修改vuex中的数据\r\n      store.commit(\"clearCart\", {\r\n        shopId,\r\n      });\r\n    };\r\n    // 跳转到订单页面\r\n    const gotoOrder = () => {\r\n      // 获取shopId\r\n      const shopId = item.value.id;\r\n      // 跳转到订单页面\r\n      router.push({ path: \"/orderConfirmation/\" + shopId });\r\n    };\r\n    // 购物车遮罩层的点击事件处理函数\r\n    const cartMaskClick = (event) => {\r\n      // 查看触发事件的元素, 如果类名是cart-mask, 才触发\r\n      if (event.target.className !== \"cart-mask\") {\r\n        return;\r\n      }\r\n      // 相当于点击了购物车图标\r\n      cartIconClick();\r\n    };\r\n    return {\r\n      item,\r\n      handleBackClick,\r\n      leftItems,\r\n      currentItemName,\r\n      handleItemClick,\r\n      rightItems,\r\n      changeCartCount,\r\n      cartMaskClick,\r\n      total,\r\n      sumPrice,\r\n      isShowCartList,\r\n      cartIconClick,\r\n      cartItems,\r\n      changeItemChecked,\r\n      allChecked,\r\n      changeAllChecked,\r\n      clearCart,\r\n      shopId,\r\n      gotoOrder,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/shop.scss\";\r\n</style>\r\n","import { render } from \"./Shop.vue?vue&type=template&id=525b94bd&scoped=true\"\nimport script from \"./Shop.vue?vue&type=script&lang=js\"\nexport * from \"./Shop.vue?vue&type=script&lang=js\"\n\nimport \"./Shop.vue?vue&type=style&index=0&id=525b94bd&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-525b94bd\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","src","$props","item","logo","alt","_normalizeClass","right","line","showBorder","_hoisted_4","_toDisplayString","title","_hoisted_5","_Fragment","_renderList","tags","tag","tagIndex","key","_hoisted_6","promotion","name","props","type","Object","Boolean","default","__exports__","render","placeholder","_createVNode","_component_router_link","to","path","_hoisted_3","_component_ShopInfo","$setup","_hoisted_7","leftItems","onClick","$event","handleItemClick","id","currentItemName","text","_hoisted_8","_hoisted_9","rightItems","_hoisted_10","img","_hoisted_12","_hoisted_13","_hoisted_14","sale","_hoisted_15","_hoisted_16","_hoisted_17","currentPrice","_hoisted_18","previousePrice","_hoisted_19","changeCartCount","cartCount","_hoisted_22","_hoisted_23","total","_cache","cartIconClick","_imports_0","_hoisted_24","JSON","stringify","cartItems","_hoisted_25","sumPrice","args","gotoOrder","_hoisted_26","cartMaskClick","_hoisted_27","_hoisted_28","_hoisted_29","changeAllChecked","allChecked","_hoisted_30","clearCart","_hoisted_31","_hoisted_32","_hoisted_33","changeItemChecked","checked","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_44","isShowCartList","components","ShopInfo","setup","ref","store","useStore","router","useRouter","route","useRoute","shopId","params","allItems","getItemData","async","result","get","value","data","getLeftItems","getRightItems","forEach","element","getProductFromVuex","productId","Number","cartData","state","shop","products","product","cartNumber","shopInfo","productInfo","find","commit","filter","includes","onMounted","handleBackClick","back","computed","totalNumber","rightItem","Array","from","toFixed","tmpArr","push","length","event","target","className"],"sourceRoot":""}