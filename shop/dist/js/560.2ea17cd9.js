"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[560],{6203:function(a,s,c){c.d(s,{Z:function(){return I}});var t=c(3396),l=c(7139),i=c(9242);const e=a=>((0,t.dD)("data-v-1f0cf479"),a=a(),(0,t.Cn)(),a),n={key:0,class:"cart-item"},o={class:"title"},r=["src"],d={class:"product-name fl"},u={class:"product-data fl clearfix"},p={class:"left fl"},v={class:"price"},f=e((()=>(0,t._)("span",{class:"compute-type"}," × ",-1))),m={class:"count"},_={class:"right flr"},h={class:"total"},w=["src"],k={class:"product-name fl"},C={class:"product-data fl clearfix"},b={class:"left fl"},g={class:"price"},y=e((()=>(0,t._)("span",{class:"compute-type"}," × ",-1))),z={class:"count"},M={class:"right flr"},D={class:"total"},P=e((()=>(0,t._)("span",{class:"iconfont icon-arrow-down"},null,-1))),S=e((()=>(0,t._)("br",null,null,-1)));function F(a,s,c,e,F,x){return(0,t.wg)(),(0,t.iD)(t.HY,null,[void 0!==c.shop.products?((0,t.wg)(),(0,t.iD)("div",n,[(0,t._)("div",o,(0,l.zw)(c.shop.title),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.shop.products.slice(0,2),((a,s)=>((0,t.wg)(),(0,t.iD)("div",{key:a.id,class:"cart-info clearfix"},[(0,t._)("img",{src:a.img,alt:"",class:"fl product-img"},null,8,r),(0,t._)("div",d,(0,l.zw)(a.title),1),(0,t._)("div",u,[(0,t._)("div",p,[(0,t._)("span",v,(0,l.zw)(a.currentPrice),1),f,(0,t._)("span",m,(0,l.zw)(a.cartCount),1)]),(0,t._)("div",_,[(0,t._)("span",h,(0,l.zw)((a.currentPrice*a.cartCount).toFixed(2)),1)])])])))),128)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.shop.products.slice(2),((a,s)=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{key:a.id,class:"cart-info clearfix"},[(0,t._)("img",{src:a.img,alt:"",class:"fl product-img"},null,8,w),(0,t._)("div",k,(0,l.zw)(a.title),1),(0,t._)("div",C,[(0,t._)("div",b,[(0,t._)("span",g,(0,l.zw)(a.currentPrice),1),y,(0,t._)("span",z,(0,l.zw)(a.cartCount),1)]),(0,t._)("div",M,[(0,t._)("span",D,(0,l.zw)((a.currentPrice*a.cartCount).toFixed(2)),1)])])])),[[i.F8,!e.isShowMore]]))),128)),(0,t.wy)((0,t._)("div",{class:"more",onClick:s[0]||(s[0]=(...a)=>e.handleShowMoreClick&&e.handleShowMoreClick(...a))},[(0,t.Uk)(" 共计 "+(0,l.zw)(c.shop.products.length)+" 件 ",1),P],512),[[i.F8,c.shop.products.length>=3&&e.isShowMore]])])):(0,t.kq)("",!0),S],64)}var x=c(4870),H={name:"CartItem",props:{shop:{type:Object,default:()=>({})}},setup(){const a=(0,x.iH)(!0),s=()=>{a.value=!1};return{isShowMore:a,handleShowMoreClick:s}}},Z=c(89);const O=(0,Z.Z)(H,[["render",F],["__scopeId","data-v-1f0cf479"]]);var I=O},9560:function(a,s,c){c.r(s),c.d(s,{default:function(){return H}});var t=c(3396),l=c(7139),i=c(9242);const e=a=>((0,t.dD)("data-v-2be09ca6"),a=a(),(0,t.Cn)(),a),n={class:"commit-order"},o={class:"head"},r=e((()=>(0,t._)("span",{class:"title"},"确认订单",-1))),d=(0,t.uE)('<div class="address" data-v-2be09ca6><div class="left" data-v-2be09ca6><div class="title" data-v-2be09ca6>收货地址</div><div class="order-address" data-v-2be09ca6>北京理工大学国防科技园2号楼10层</div><div class="user-info" data-v-2be09ca6><span class="username" data-v-2be09ca6>瑶妹（先生）</span><span class="user-phone" data-v-2be09ca6>18911024266</span></div></div><div class="right" data-v-2be09ca6><span class="iconfont icon-right" data-v-2be09ca6></span></div></div>',1),u={class:"cart-list"},p={class:"foot"},v={class:"left"},f=e((()=>(0,t._)("span",{class:"left-title"},"实付金额",-1))),m={class:"left-price"},_={class:"modal"},h=e((()=>(0,t._)("div",{class:"modal-title"},"确认要离开收银台？",-1))),w=e((()=>(0,t._)("div",{class:"modal-content"},"请尽快完成支付，否则将被取消",-1))),k={class:"modal-buttons"},C={class:"remind-mask"},b=e((()=>(0,t._)("div",{class:"modal"},[(0,t._)("span",{class:"iconfont icon-wrong-b"}),(0,t._)("span",{class:"iconfont icon-correct"}),(0,t._)("p",{class:"content"},"支付成功，等待配送")],-1))),g=[b];function y(a,s,c,e,b,y){const z=(0,t.up)("Cartitem");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",n,[(0,t._)("div",o,[(0,t._)("span",{onClick:s[0]||(s[0]=(...a)=>e.handleBackClick&&e.handleBackClick(...a)),class:"iconfont icon-left"}),r]),d,(0,t._)("div",u,[(0,t.Wm)(z,{shop:e.shop},null,8,["shop"])]),(0,t._)("div",p,[(0,t._)("div",v,[f,(0,t._)("span",m,"¥"+(0,l.zw)(e.totalPrice),1)]),(0,t._)("div",{onClick:s[1]||(s[1]=(...a)=>e.submitOrder&&e.submitOrder(...a)),class:"right active"},"提交订单")])]),(0,t.wy)((0,t._)("div",{onClick:s[4]||(s[4]=(0,i.iM)(((...a)=>e.cancleClick&&e.cancleClick(...a)),["self"])),class:"confirm-mask"},[(0,t._)("div",_,[h,w,(0,t._)("div",k,[(0,t._)("div",{onClick:s[2]||(s[2]=(...a)=>e.cancleClick&&e.cancleClick(...a)),class:"modal-button cancel"},"取消订单"),(0,t._)("div",{onClick:s[3]||(s[3]=(...a)=>e.confirmPay&&e.confirmPay(...a)),class:"modal-button confirm"},"确认支付")])])],512),[[i.F8,e.isShowConfirmMask]]),(0,t.wy)((0,t._)("div",C,g,512),[[i.F8,e.isShowNoticeMask]])],64)}c(560);var z=c(2483),M=c(4870),D=c(4239),P=c(6203),S={name:"OrderConfirmation",components:{Cartitem:P.Z},setup(){const a=(0,z.yj)(),s=(0,z.tv)(),c=(0,M.iH)(!1),l=(0,M.iH)(!1),i=a.params.id,e=(0,t.Fl)((()=>{let a=D.Z.state.cartData.find((a=>a.id==i));return a||(a={id:0,title:"",products:[]}),a})),n=()=>{s.back()},o=(0,t.Fl)((()=>{let a=0;return e.value.products.forEach((s=>{a+=s.currentPrice*s.cartCount})),a.toFixed(2)})),r=()=>{c.value=!0},d=()=>{c.value=!1},u=()=>{c.value=!1,l.value=!0,setTimeout((()=>{l.value=!1;const c=Number(a.params.id);D.Z.commit("clearCart",{shopId:c}),s.push("/order-List")}),2e3)};return{shop:e,handleBackClick:n,totalPrice:o,isShowConfirmMask:c,isShowNoticeMask:l,submitOrder:r,cancleClick:d,confirmPay:u}}},F=c(89);const x=(0,F.Z)(S,[["render",y],["__scopeId","data-v-2be09ca6"]]);var H=x}}]);
//# sourceMappingURL=560.2ea17cd9.js.map