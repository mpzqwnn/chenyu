"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[474],{6203:function(t,s,a){a.d(s,{Z:function(){return Y}});var o=a(3396),c=a(7139),n=a(9242);const e=t=>((0,o.dD)("data-v-1f0cf479"),t=t(),(0,o.Cn)(),t),r={key:0,class:"cart-item"},i={class:"title"},l=["src"],u={class:"product-name fl"},d={class:"product-data fl clearfix"},p={class:"left fl"},f={class:"price"},h=e((()=>(0,o._)("span",{class:"compute-type"}," × ",-1))),g={class:"count"},w={class:"right flr"},_={class:"total"},v=["src"],m={class:"product-name fl"},C={class:"product-data fl clearfix"},b={class:"left fl"},k={class:"price"},D=e((()=>(0,o._)("span",{class:"compute-type"}," × ",-1))),S={class:"count"},z={class:"right flr"},y={class:"total"},M=e((()=>(0,o._)("span",{class:"iconfont icon-arrow-down"},null,-1))),x=e((()=>(0,o._)("br",null,null,-1)));function Z(t,s,a,e,Z,I){return(0,o.wg)(),(0,o.iD)(o.HY,null,[void 0!==a.shop.products?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",i,(0,c.zw)(a.shop.title),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.shop.products.slice(0,2),((t,s)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,class:"cart-info clearfix"},[(0,o._)("img",{src:t.img,alt:"",class:"fl product-img"},null,8,l),(0,o._)("div",u,(0,c.zw)(t.title),1),(0,o._)("div",d,[(0,o._)("div",p,[(0,o._)("span",f,(0,c.zw)(t.currentPrice),1),h,(0,o._)("span",g,(0,c.zw)(t.cartCount),1)]),(0,o._)("div",w,[(0,o._)("span",_,(0,c.zw)((t.currentPrice*t.cartCount).toFixed(2)),1)])])])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.shop.products.slice(2),((t,s)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{key:t.id,class:"cart-info clearfix"},[(0,o._)("img",{src:t.img,alt:"",class:"fl product-img"},null,8,v),(0,o._)("div",m,(0,c.zw)(t.title),1),(0,o._)("div",C,[(0,o._)("div",b,[(0,o._)("span",k,(0,c.zw)(t.currentPrice),1),D,(0,o._)("span",S,(0,c.zw)(t.cartCount),1)]),(0,o._)("div",z,[(0,o._)("span",y,(0,c.zw)((t.currentPrice*t.cartCount).toFixed(2)),1)])])])),[[n.F8,!e.isShowMore]]))),128)),(0,o.wy)((0,o._)("div",{class:"more",onClick:s[0]||(s[0]=(...t)=>e.handleShowMoreClick&&e.handleShowMoreClick(...t))},[(0,o.Uk)(" 共计 "+(0,c.zw)(a.shop.products.length)+" 件 ",1),M],512),[[n.F8,a.shop.products.length>=3&&e.isShowMore]])])):(0,o.kq)("",!0),x],64)}var I=a(4870),T={name:"CartItem",props:{shop:{type:Object,default:()=>({})}},setup(){const t=(0,I.iH)(!0),s=()=>{t.value=!1};return{isShowMore:t,handleShowMoreClick:s}}},H=a(89);const F=(0,H.Z)(T,[["render",Z],["__scopeId","data-v-1f0cf479"]]);var Y=F},7560:function(t,s,a){a.d(s,{Z:function(){return f}});var o=a(3396),c=a(7139);const n={class:"tabbar"},e=["onClick"],r={class:"text"};function i(t,s,a,i,l,u){return(0,o.wg)(),(0,o.iD)("div",n,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tabbarItems,(t=>((0,o.wg)(),(0,o.iD)("div",{onClick:s=>i.tabbarClick(t.path),class:(0,c.C_)({item:!0,active:t.tag===a.tag}),key:t.icon1},[(0,o._)("span",{class:(0,c.C_)(["one","iconfont",t.icon1])},null,2),(0,o._)("span",{class:(0,c.C_)(["two","iconfont",t.icon2])},null,2),(0,o._)("span",r,(0,c.zw)(t.text),1)],10,e)))),128))])}a(560);var l=a(1120),u={name:"Tabbar",props:{tag:{type:String,default:"home"}},setup(){const t=[{icon1:"icon-home_light",icon2:"icon-home_fill_light",text:"首页",tag:"home",path:"/"},{icon1:"icon-bag",icon2:"icon-bag-fill",text:"购物车",tag:"cart",path:"/cart"},{icon1:"icon-order",icon2:"icon-order-fill",text:"订单",tag:"order",path:"/order-list"},{icon1:"icon-user",icon2:"icon-a-userfill",text:"我的",tag:"user",path:"/user"}],s=t=>{l.Z.push({path:t})};return{tabbarItems:t,tabbarClick:s}}},d=a(89);const p=(0,d.Z)(u,[["render",i],["__scopeId","data-v-7d073570"]]);var f=p},9478:function(t,s,a){a.d(s,{Z:function(){return p},z:function(){return l}});var o=a(3396),c=a(7139);const n={class:"toast"};function e(t,s,a,e,r,i){return(0,o.wg)(),(0,o.iD)("div",n,(0,c.zw)(a.message),1)}var r=a(4870),i={name:"Toast",props:{message:{type:String,default:""}}};const l=()=>{const t=(0,r.qj)({isShow:!1,toastMessage:""}),s=s=>{t.isShow=!0,t.toastMessage=s,setTimeout((()=>{t.isShow=!1,t.toastMessage=""}),1e3)},{isShow:a,toastMessage:o}=(0,r.BK)(t);return{showToast:s,isShow:a,toastMessage:o}};var u=a(89);const d=(0,u.Z)(i,[["render",e],["__scopeId","data-v-4680bc8c"]]);var p=d},7474:function(t,s,a){a.r(s),a.d(s,{default:function(){return m}});var o=a(3396),c=a(7139);const n=t=>((0,o.dD)("data-v-2dfc6544"),t=t(),(0,o.Cn)(),t),e={class:"Cart"},r={class:"head"},i=n((()=>(0,o._)("span",{class:"iconfont"},null,-1))),l={class:"title"},u=n((()=>(0,o._)("span",{class:"button"},null,-1)));function d(t,s,a,n,d,p){const f=(0,o.up)("CartItem"),h=(0,o.up)("Tabbar"),g=(0,o.up)("Toast");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",e,[(0,o._)("div",r,[i,(0,o._)("span",l,"我的全部购物车（"+(0,c.zw)(n.total)+"）",1),u]),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.cartData,(t=>((0,o.wg)(),(0,o.j4)(f,{key:t.id,class:"cart-list",shop:t},null,8,["shop"])))),128))])]),(0,o.Wm)(h,{tag:"cart"}),n.isShow?((0,o.wg)(),(0,o.j4)(g,{key:0,message:n.toastMessage},null,8,["message"])):(0,o.kq)("",!0)],64)}var p=a(7560),f=a(65),h=a(6203),g=a(9478),w={name:"Cart",components:{Tabbar:p.Z,CartItem:h.Z,Toast:g.Z},setup(){const{showToast:t,isShow:s,toastMessage:a}=(0,g.z)(),c=(0,f.oR)(),n=(0,o.Fl)((()=>c.state.cartData)),e=(0,o.Fl)((()=>{let s=0;return n.value.forEach((t=>{"undefined"!=typeof t.products&&t.products.forEach((t=>{s+=t.cartCount}))})),0==s&&t("购物车空空如也，快去购物吧"),s}));return{cartData:n,total:e,isShow:s,toastMessage:a}}},_=a(89);const v=(0,_.Z)(w,[["render",d],["__scopeId","data-v-2dfc6544"]]);var m=v}}]);
//# sourceMappingURL=474.fa8a16db.js.map