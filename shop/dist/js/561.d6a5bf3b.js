"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[561],{7560:function(t,a,c){c.d(a,{Z:function(){return _}});var s=c(3396),o=c(7139);const n={class:"tabbar"},r=["onClick"],e={class:"text"};function i(t,a,c,i,l,d){return(0,s.wg)(),(0,s.iD)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tabbarItems,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:a=>i.tabbarClick(t.path),class:(0,o.C_)({item:!0,active:t.tag===c.tag}),key:t.icon1},[(0,s._)("span",{class:(0,o.C_)(["one","iconfont",t.icon1])},null,2),(0,s._)("span",{class:(0,o.C_)(["two","iconfont",t.icon2])},null,2),(0,s._)("span",e,(0,o.zw)(t.text),1)],10,r)))),128))])}c(560);var l=c(1120),d={name:"Tabbar",props:{tag:{type:String,default:"home"}},setup(){const t=[{icon1:"icon-home_light",icon2:"icon-home_fill_light",text:"首页",tag:"home",path:"/"},{icon1:"icon-bag",icon2:"icon-bag-fill",text:"购物车",tag:"cart",path:"/cart"},{icon1:"icon-order",icon2:"icon-order-fill",text:"订单",tag:"order",path:"/order-list"},{icon1:"icon-user",icon2:"icon-a-userfill",text:"我的",tag:"user",path:"/user"}],a=t=>{l.Z.push({path:t})};return{tabbarItems:t,tabbarClick:a}}},u=c(89);const p=(0,u.Z)(d,[["render",i],["__scopeId","data-v-7d073570"]]);var _=p},4561:function(t,a,c){c.r(a),c.d(a,{default:function(){return T}});var s=c(3396),o=c(7139);const n=t=>((0,s.dD)("data-v-056d092c"),t=t(),(0,s.Cn)(),t),r={class:"order"},e=n((()=>(0,s._)("div",{class:"head"},[(0,s._)("span",{class:"iconfont"}),(0,s._)("span",{class:"title"},"我的订单"),(0,s._)("span",{class:"button"})],-1))),i={class:"order-list"},l={class:"top"},d={class:"shop-name"},u=n((()=>(0,s._)("span",{class:"order-status"},"已完成",-1))),p={class:"bottom"},_={class:"products"},b=["src"],g={class:"data"},v={class:"price"},m={class:"count"};function h(t,a,c,n,h,f){const w=(0,s.up)("Tabbar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[e,(0,s._)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.orderList,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"order-item"},[(0,s._)("div",l,[(0,s._)("span",d,(0,o.zw)(t.title),1),u]),(0,s._)("div",p,[(0,s._)("div",_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.products.slice(0,5),((t,a)=>((0,s.wg)(),(0,s.iD)("img",{key:t.id,src:t.img,alt:"",class:"product-img"},null,8,b)))),128))]),(0,s._)("div",g,[(0,s._)("div",v,"¥"+(0,o.zw)(n.computedTotalPrice(t.products)),1),(0,s._)("div",m," 共"+(0,o.zw)(n.computedTotalNumber(t.products))+"件 ",1)])])])))),128))])]),(0,s.Wm)(w,{tag:"order"})],64)}var f=c(7560),w=c(4870),C=c(1374),k={name:"OrderList",components:{Tabbar:f.Z},setup(){const t=(0,w.iH)([]),a=async()=>{const a=await(0,C.U2)("/order-list");t.value=a.data,console.log(a)},c=t=>t.reduce(((t,a)=>t+a.cartCount),0),o=t=>t.reduce(((t,a)=>t+a.currentPrice*a.cartCount),0).toFixed(2);return(0,s.bv)((()=>{a()})),{orderList:t,computedTotalPrice:o,computedTotalNumber:c}}},D=c(89);const x=(0,D.Z)(k,[["render",h],["__scopeId","data-v-056d092c"]]);var T=x}}]);
//# sourceMappingURL=561.d6a5bf3b.js.map