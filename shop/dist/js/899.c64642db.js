"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[899],{4069:function(s,e,a){a.r(e),a.d(e,{default:function(){return j}});var t=a(3396),n=a(9242);const l=s=>((0,t.dD)("data-v-282be0bc"),s=s(),(0,t.Cn)(),s),d={class:"container"},i={class:"head"},o=l((()=>(0,t._)("span",{class:"title"},"编辑收货地址",-1))),r={class:"info"},c={class:"item"},u=l((()=>(0,t._)("span",{class:"text"},"所在城市：",-1))),p=l((()=>(0,t._)("div",{class:"gap"},null,-1))),m={class:"item"},g=l((()=>(0,t._)("span",{class:"text"},"小区/大厦/学校：",-1))),_=l((()=>(0,t._)("div",{class:"gap"},null,-1))),y={class:"item"},h=l((()=>(0,t._)("span",{class:"text"},"楼号-门牌号：",-1))),v=l((()=>(0,t._)("div",{class:"gap"},null,-1))),b={class:"item"},w=l((()=>(0,t._)("span",{class:"text"},"收货人：",-1))),f=l((()=>(0,t._)("div",{class:"gap"},null,-1))),k={class:"item"},x=l((()=>(0,t._)("span",{class:"text"},"联系电话：",-1)));function q(s,e,a,l,q,T){const C=(0,t.up)("Toast");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",d,[(0,t._)("div",i,[(0,t._)("span",{onClick:e[0]||(e[0]=(...s)=>l.backToAddressList&&l.backToAddressList(...s)),class:"iconfont icon-left"}),o,(0,t._)("span",{onClick:e[1]||(e[1]=(...s)=>l.submitForm&&l.submitForm(...s)),class:"button"},"保存")]),(0,t._)("div",r,[(0,t._)("div",c,[u,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.address.city=s),type:"text",class:"input-item",placeholder:"如北京市"},null,512),[[n.nr,l.address.city]])]),p,(0,t._)("div",m,[g,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.address.community=s),type:"text",class:"input-item",placeholder:"如理工大学国防科技园"},null,512),[[n.nr,l.address.community]])]),_,(0,t._)("div",y,[h,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.address.building=s),type:"text",class:"input-item",placeholder:"A号楼B层"},null,512),[[n.nr,l.address.building]])]),v,(0,t._)("div",b,[w,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>l.address.username=s),type:"text",class:"input-item",placeholder:"请填写收货人的姓名"},null,512),[[n.nr,l.address.username]])]),f,(0,t._)("div",k,[x,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>l.address.phone=s),type:"text",class:"input-item",placeholder:"请填写收货手机号"},null,512),[[n.nr,l.address.phone]])])])]),l.isShow?((0,t.wg)(),(0,t.j4)(C,{key:0,message:l.toastMessage},null,8,["message"])):(0,t.kq)("",!0)],64)}a(560);var T=a(1120),C=a(4870),U=a(1374),Z=a(9478),A=a(3410),S={components:{Toast:Z.Z},name:"AddressCreate",setup(){const s={city:[{required:!0,message:"城市不能为空"}],community:[{required:!0,message:"小区不能为空"}],building:[{required:!0,message:"楼号不能为空"}],username:[{required:!0,message:"收货人不能为空"},{pattern:/^[\u4e00-\u9fa5]{2,4}$/,message:"请输入有效的中文名字"}],phone:[{required:!0,message:"联系电话不能为空"},{pattern:/^1[0-9]{10}$/,message:"请输入有效的手机号码"}]},{showToast:e,isShow:a,toastMessage:n}=(0,Z.z)(),l=()=>{T.Z.push("/address-list")},d=T.Z.currentRoute.value.params.id,i=(0,C.qj)({city:"",community:"",building:"",username:"",phone:""}),o=async()=>{const a=new A.Z(s);try{await a.validate(i),console.log("校验成功"),console.log(i);const s=JSON.parse(JSON.stringify(i)),t=await(0,U.gz)(`/address${d}`,s);0===t.errno?(e("编辑地址成功"),setTimeout((()=>{T.Z.push("/address-list")}),1e3)):e(t.message)}catch(t){e(t.errors[0].message)}},r=()=>{o()};(0,t.bv)((()=>{c()}));const c=async()=>{const s=await(0,U.U2)(`/address/${d}`);Object.assign(i,s.data),console.log(i)};return{backToAddressList:l,address:i,isShow:a,toastMessage:n,submitForm:r}}},V=a(89);const $=(0,V.Z)(S,[["render",q],["__scopeId","data-v-282be0bc"]]);var j=$}}]);
//# sourceMappingURL=899.c64642db.js.map